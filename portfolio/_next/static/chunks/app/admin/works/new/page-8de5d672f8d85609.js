(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{14745:(e,t,r)=>{"use strict";r.d(t,{Select:()=>x});var l=r(95155),s=r(4237),a=r(33317),n=r(87228),o=r(93995),i=r(12115),c=r(38970),d=r(13259),u=r(59585),h=r(584),m=r(81067);let x=(0,u.forwardRef)((e,t)=>{var r;let i=(0,m.useMultiStyleConfig)("Select",e),{rootProps:u,placeholder:x,icon:g,color:j,height:v,h:b,minH:f,minHeight:k,iconColor:C,iconSize:y,...w}=(0,s.M)(e),[F,S]=(0,n.l)(w,a.GF),L=(0,d.useFormControl)(S),R={paddingEnd:"2rem",...i.field,_focus:{zIndex:"unset",...null==(r=i.field)?void 0:r._focus}};return(0,l.jsxs)(h.chakra.div,{className:"chakra-select__wrapper",__css:{width:"100%",height:"fit-content",position:"relative",color:j},...F,...u,children:[(0,l.jsx)(c.SelectField,{ref:t,height:null!=b?b:v,minH:null!=f?f:k,placeholder:x,...L,__css:R,children:e.children}),(0,l.jsx)(p,{"data-disabled":(0,o.s)(L.disabled),...(C||j)&&{color:C||j},__css:i.icon,...y&&{fontSize:y},children:g})]})});x.displayName="Select";let g=e=>(0,l.jsx)("svg",{viewBox:"0 0 24 24",...e,children:(0,l.jsx)("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),j=(0,h.chakra)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),p=e=>{let{children:t=(0,l.jsx)(g,{}),...r}=e,s=(0,i.cloneElement)(t,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return(0,l.jsx)(j,{...r,className:"chakra-select__icon-wrapper",children:(0,i.isValidElement)(t)?s:null})};p.displayName="SelectIcon"},20063:(e,t,r)=>{"use strict";var l=r(47260);r.o(l,"useParams")&&r.d(t,{useParams:function(){return l.useParams}}),r.o(l,"usePathname")&&r.d(t,{usePathname:function(){return l.usePathname}}),r.o(l,"useRouter")&&r.d(t,{useRouter:function(){return l.useRouter}})},28107:(e,t,r)=>{"use strict";r.d(t,{Box:()=>l});let l=(0,r(584).chakra)("div");l.displayName="Box"},38970:(e,t,r)=>{"use strict";r.d(t,{SelectField:()=>o});var l=r(95155),s=r(94927),a=r(59585),n=r(584);let o=(0,a.forwardRef)(function(e,t){let{children:r,placeholder:a,className:o,...i}=e;return(0,l.jsxs)(n.chakra.select,{...i,ref:t,className:(0,s.cx)("chakra-select",o),children:[a&&(0,l.jsx)("option",{value:"",children:a}),r]})});o.displayName="SelectField"},40252:(e,t,r)=>{Promise.resolve().then(r.bind(r,49006))},43891:(e,t,r)=>{"use strict";r.d(t,{S:()=>b});var l=r(95155),s=r(50790),a=r(87057),n=r(59988),o=r(5987),i=r(14745),c=r(63905),d=r(28107),u=r(72927),h=r(77480),m=r(83478),x=r(86989),g=r(43373),j=r(60935),p=r(22869),v=r(12115);function b(e){var t,r,b;let{initialData:f,onSubmit:k,onCancel:C,submitLabel:y="保存"}=e,[w,F]=(0,v.useState)(f||{id:"",slug:"",category:"tech",title:"",description:"",thumbnail:"",images:[],tags:[],createdAt:new Date().toISOString().slice(0,7),featured:!1,content:""}),[S,L]=(0,v.useState)(""),[R,_]=(0,v.useState)(""),I=(e,t)=>{F(r=>({...r,[e]:t}))},N=()=>{S.trim()&&!w.tags.includes(S.trim())&&(I("tags",[...w.tags,S.trim()]),L(""))},B=()=>{let e=w.images||[];R.trim()&&!e.includes(R.trim())&&(I("images",[...e,R.trim()]),_(""))};return(0,l.jsx)("form",{onSubmit:e=>{e.preventDefault(),k(w)},children:(0,l.jsxs)(s.VStack,{spacing:6,align:"stretch",children:[(0,l.jsxs)(a.FormControl,{isRequired:!0,children:[(0,l.jsx)(n.FormLabel,{children:"タイトル"}),(0,l.jsx)(o.Input,{value:w.title,onChange:e=>I("title",e.target.value),placeholder:"プロジェクト名"})]}),(0,l.jsxs)(a.FormControl,{isRequired:!0,children:[(0,l.jsx)(n.FormLabel,{children:"Slug (URL)"}),(0,l.jsx)(o.Input,{value:w.slug,onChange:e=>I("slug",e.target.value),placeholder:"my-awesome-project"}),(0,l.jsxs)(a.FormHelperText,{children:["URL: /works/",w.slug||"slug"]})]}),(0,l.jsxs)(a.FormControl,{isRequired:!0,children:[(0,l.jsx)(n.FormLabel,{children:"カテゴリ"}),(0,l.jsxs)(i.Select,{value:w.category,onChange:e=>I("category",e.target.value),children:[(0,l.jsx)("option",{value:"tech",children:"Tech"}),(0,l.jsx)("option",{value:"photo",children:"Photo"}),(0,l.jsx)("option",{value:"video",children:"Video"})]})]}),(0,l.jsxs)(a.FormControl,{isRequired:!0,children:[(0,l.jsx)(n.FormLabel,{children:"説明"}),(0,l.jsx)(c.Textarea,{value:w.description,onChange:e=>I("description",e.target.value),placeholder:"プロジェクトの簡単な説明",rows:3})]}),(0,l.jsxs)(a.FormControl,{isRequired:!0,children:[(0,l.jsx)(n.FormLabel,{children:"サムネイル画像URL"}),(0,l.jsx)(o.Input,{value:w.thumbnail,onChange:e=>I("thumbnail",e.target.value),placeholder:"/works/tech/project-thumb.jpg"}),w.thumbnail&&(0,l.jsx)(d.Box,{mt:2,children:(0,l.jsx)(u.Image,{src:w.thumbnail,alt:"Thumbnail preview",maxH:"200px",borderRadius:"md",fallbackSrc:"https://via.placeholder.com/400x300?text=Preview"})})]}),(0,l.jsxs)(a.FormControl,{children:[(0,l.jsx)(n.FormLabel,{children:"画像ギャラリー"}),(0,l.jsxs)(h.HStack,{children:[(0,l.jsx)(o.Input,{value:R,onChange:e=>_(e.target.value),placeholder:"/works/tech/screenshot-1.jpg",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),B())}),(0,l.jsx)(m.Button,{onClick:B,type:"button",children:"追加"})]}),(null!=(b=null==(t=w.images)?void 0:t.length)?b:0)>0&&(0,l.jsx)(s.VStack,{mt:3,align:"stretch",spacing:2,children:null==(r=w.images)?void 0:r.map((e,t)=>(0,l.jsxs)(h.HStack,{bg:"gray.50",p:2,borderRadius:"md",children:[(0,l.jsx)(u.Image,{src:e,alt:"Image ".concat(t+1),boxSize:"50px",objectFit:"cover",borderRadius:"sm"}),(0,l.jsx)(x.Text,{flex:"1",fontSize:"sm",noOfLines:1,children:e}),(0,l.jsx)(m.Button,{size:"sm",colorScheme:"red",variant:"ghost",onClick:()=>{I("images",(w.images||[]).filter((e,r)=>r!==t))},children:"削除"})]},t))})]}),(0,l.jsxs)(a.FormControl,{children:[(0,l.jsx)(n.FormLabel,{children:"タグ"}),(0,l.jsxs)(h.HStack,{children:[(0,l.jsx)(o.Input,{value:S,onChange:e=>L(e.target.value),placeholder:"React, TypeScript, Next.js...",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),N())}),(0,l.jsx)(m.Button,{onClick:N,type:"button",children:"追加"})]}),w.tags.length>0&&(0,l.jsx)(g.Wrap,{mt:3,children:w.tags.map(e=>(0,l.jsxs)(j.Tag,{size:"md",colorScheme:"blue",children:[(0,l.jsx)(j.TagLabel,{children:e}),(0,l.jsx)(j.TagCloseButton,{onClick:()=>{I("tags",w.tags.filter(t=>t!==e))}})]},e))})]}),(0,l.jsxs)(a.FormControl,{isRequired:!0,children:[(0,l.jsx)(n.FormLabel,{children:"作成日 (YYYY-MM)"}),(0,l.jsx)(o.Input,{type:"month",value:w.createdAt,onChange:e=>I("createdAt",e.target.value)})]}),"tech"===w.category&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(a.FormControl,{children:[(0,l.jsx)(n.FormLabel,{children:"GitHub URL"}),(0,l.jsx)(o.Input,{value:w.githubUrl||"",onChange:e=>I("githubUrl",e.target.value),placeholder:"https://github.com/username/repo"})]}),(0,l.jsxs)(a.FormControl,{children:[(0,l.jsx)(n.FormLabel,{children:"Demo URL"}),(0,l.jsx)(o.Input,{value:w.demoUrl||"",onChange:e=>I("demoUrl",e.target.value),placeholder:"https://demo.example.com"})]})]}),"video"===w.category&&(0,l.jsxs)(a.FormControl,{children:[(0,l.jsx)(n.FormLabel,{children:"Video URL (YouTube)"}),(0,l.jsx)(o.Input,{value:w.videoUrl||"",onChange:e=>I("videoUrl",e.target.value),placeholder:"https://youtube.com/watch?v=..."})]}),(0,l.jsxs)(a.FormControl,{children:[(0,l.jsx)(n.FormLabel,{children:"詳細コンテンツ (Markdown)"}),(0,l.jsx)(c.Textarea,{value:w.content||"",onChange:e=>I("content",e.target.value),placeholder:"## プロジェクト概要  ここに詳細を書く",rows:10,fontFamily:"mono"}),(0,l.jsx)(a.FormHelperText,{children:"Markdown形式で記述できます"})]}),(0,l.jsxs)(a.FormControl,{display:"flex",alignItems:"center",children:[(0,l.jsx)(n.FormLabel,{mb:"0",children:"Featured (トップページに表示)"}),(0,l.jsx)(p.Switch,{isChecked:w.featured,onChange:e=>I("featured",e.target.checked)})]}),(0,l.jsxs)(h.HStack,{justify:"flex-end",pt:4,children:[(0,l.jsx)(m.Button,{variant:"ghost",onClick:C,type:"button",children:"キャンセル"}),(0,l.jsx)(m.Button,{colorScheme:"blue",type:"submit",children:y})]})]})})}},49006:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var l=r(95155),s=r(74813),a=r(50790),n=r(77480),o=r(49240),i=r(83478),c=r(65225),d=r(51680),u=r(20063),h=r(43891),m=r(13032),x=r(65993),g=r(52619),j=r.n(g);function p(){let e=(0,u.useRouter)(),t=(0,s.useToast)();return(0,l.jsxs)(a.VStack,{spacing:6,align:"stretch",maxW:"4xl",mx:"auto",children:[(0,l.jsxs)(n.HStack,{justify:"space-between",children:[(0,l.jsx)(o.Heading,{size:"xl",children:"新しい作品を追加"}),(0,l.jsx)(i.Button,{as:j(),href:"/admin",leftIcon:(0,l.jsx)(x.A,{size:16}),variant:"ghost",size:"sm",children:"Dashboard"})]}),(0,l.jsx)(c.Card,{children:(0,l.jsx)(d.CardBody,{children:(0,l.jsx)(h.S,{onSubmit:r=>{let l=(0,m.Or)(r.category),s={...r,id:l};(0,m.RK)(s),t({title:"作品を作成しました",description:"「".concat(r.title,"」を追加しました"),status:"success",duration:3e3}),e.push("/admin/works")},onCancel:()=>{e.push("/admin/works")},submitLabel:"作成"})})})]})}},65993:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(71847).A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},71847:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var l=r(12115);let s=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,l.forwardRef)((e,t)=>{let{color:r="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:c="",children:d,iconNode:u,...h}=e;return(0,l.createElement)("svg",{ref:t,...a,width:n,height:n,stroke:r,strokeWidth:i?24*Number(o)/Number(n):o,className:s("lucide",c),...h},[...u.map(e=>{let[t,r]=e;return(0,l.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),o=(e,t)=>{let r=(0,l.forwardRef)((r,a)=>{let{className:o,...i}=r;return(0,l.createElement)(n,{ref:a,iconNode:t,className:s("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),o),...i})});return r.displayName="".concat(e),r}},87228:(e,t,r)=>{"use strict";function l(e,t){let r={},l={};for(let[s,a]of Object.entries(e))t.includes(s)?r[s]=a:l[s]=a;return[r,l]}r.d(t,{l:()=>l})}},e=>{e.O(0,[671,759,192,53,112,32,441,255,358],()=>e(e.s=40252)),_N_E=e.O()}]);